(()=>{"use strict";function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const t=function(){var t=new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.message_box=document.querySelector(".popup-message"),this.message_text=document.querySelector(".popup-message .desc"),this.table_body=document.querySelector(".table .table-body")}var o,a;return o=t,(a=[{key:"showMessage",value:function(e){var t=this;"add"===e?(this.message_box.classList.add("add"),this.message_text.textContent="1 Product Added."):"delete"===e?(this.message_box.classList.add("del"),this.message_box.classList.remove("add"),this.message_text.textContent="1 Product Deleted."):"all"===e&&(this.message_box.classList.add("del"),this.message_box.classList.remove("add"),this.message_text.textContent="All Products Deleted."),this.message_box.classList.add("show"),setTimeout((function(){t.removeMessageBox()}),1e3)}},{key:"removeMessageBox",value:function(){var e=document.querySelector(".popup-message");e.classList.contains("show")&&e.classList.remove("show")}},{key:"getProductsFromLocalStorage",value:function(){var e=this;JSON.parse(localStorage.getItem("Products")).forEach((function(t){e.table_body.innerHTML+="\n                <tr data-id=".concat(t.id,'>\n                    <td><img src="').concat(t.image,'" width="75" alt="image"></td>\n                    <td class="title-table">').concat(t.title,"</td>\n                    <td>").concat(t.price,'</td>\n                    <td class="remove"><a href="#!">&times;</a></td>\n                </tr>\n               '),r.porCount()}))}}])&&e(o.prototype,a),t}());return{showMessage:function(e){return t.showMessage(e)},porCount:function(){return t.porCount()},getProductsFromLocalStorage:function(){return t.getProductsFromLocalStorage()}}}();function o(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const r=function(){var e=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardTag=document.querySelectorAll(".send-btn"),this.table_body=document.querySelector(".table .table-body"),this.product_count=document.querySelector("#pro-count")}var r,a;return r=e,(a=[{key:"addProduct",value:function(){var e=this;Array.from(this.cardTag).forEach((function(o){o.addEventListener("click",(function(o){t.showMessage("add");var r,a=o.target.parentElement.parentElement.querySelector("img").src,n=o.target.parentElement.parentElement.querySelector(".card-body .card-title").textContent,c=o.target.parentElement.parentElement.querySelector(".card-body .price").textContent.split(" ")[2],s=o.target.parentElement.parentElement.querySelector(".btn").getAttribute("data-id");r="\n                    <tr data-id=".concat(s,'>\n                    <td><img src="').concat(a,'" width="75" alt="image"></td>\n                    <td class="title-table">').concat(n,"</td>\n                    <td>").concat(c,'</td>\n                    <td class="remove"><a href="#!">&times;</a></td>\n                    </tr>\n                    '),e.table_body.innerHTML+=r,e.porCount();var l={image:a,title:n,price:c,id:s};e.addProductToLocalStorage(l)}))}))}},{key:"porCount",value:function(){this.product_count.textContent=this.table_body.children.length}},{key:"addProductToLocalStorage",value:function(e){var t="";null===localStorage.getItem("Products")?((t=[]).push(e),localStorage.setItem("Products",JSON.stringify(t))):((t=JSON.parse(localStorage.getItem("Products"))).push(e),localStorage.setItem("Products",JSON.stringify(t)))}},{key:"deleteProduct",value:function(e){if(e.target.parentElement.classList.contains("remove")){e.target.parentElement.parentElement.remove(),this.porCount();var o=e.target.parentElement.parentElement.getAttribute("data-id");this.deleteProductFromLocalStorage(o),t.showMessage("delete")}}},{key:"deleteProductFromLocalStorage",value:function(e){var t=JSON.parse(localStorage.getItem("Products"));t.forEach((function(o,r){e===o.id&&(t.splice(r,1),localStorage.setItem("Products",JSON.stringify(t)))}))}},{key:"clearAllProducts",value:function(){var e=this;document.querySelectorAll(".table .table-body tr").forEach((function(o){o.remove(),localStorage.clear(),t.showMessage("all"),e.porCount()}))}}])&&o(r.prototype,a),e}());return{addProduct:function(){return e.addProduct()},porCount:function(){return e.porCount()},deleteProduct:function(t){return e.deleteProduct(t)},clearAllProducts:function(t){return e.clearAllProducts(t)}}}();var a=document.querySelector(".table .table-body"),n=document.querySelector("#clear-all");r.addProduct(),document.addEventListener("DOMContentLoaded",(function(){t.getProductsFromLocalStorage()})),a.addEventListener("click",(function(e){r.deleteProduct(e)})),n.addEventListener("click",(function(){r.clearAllProducts()}))})();